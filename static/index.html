<!doctype html>
<html lang="en" ng-app="vlckickoffApp">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>VLC Kickoff</title>

<!-- TODO: switch to minified dependencies -->

<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.css">

<script src="//code.jquery.com/jquery-1.11.0.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.0/angular-resource.js"></script>

<script src="js/ng-device-detector.js"></script>
<script src="js/app.js"></script>

<style>
.settings-form {
  max-width: 400px;
  padding: 15px;
}
.stream-list {
  max-width: 400px;
}
.control-buttons {
  max-width: 400px;
}
@media (max-width: 768px) {
  .control-label {
    padding-top: 7px;
    margin-bottom: 0;
    text-align: right;
  }
}
</style>

</head>
<body ng-controller="StreamListCtrl">
  <div class="container">
    <form class="form-horizontal settings-form" role="form">
      <div class="form-group" style="vertical-align: center;">
        <label for="inputVideoBitrate" class="control-label col-xs-4">Video kbps</label>
        <div class="col-xs-8">
          <select id="inputVideoBitrate" class="form-control"
                  ng-model="settings.VideoBitrate"
                  ng-options="x for x in [400,600,800,1000,1500,2000]"
                  ng-change="changeSettings()">
          </select>
        </div>
      </div>
      <div class="form-group">
        <label for="inputVideoRes" class="control-label col-xs-4">Video WxH</label>
        <div class="col-xs-8">
          <select id="inputVideoRes" class="form-control"
                  ng-model="videoRes" ng-change="changeSettings()">
            <option value="480x270">480x270</option>
            <option value="640x360">640x360</option>
            <option value="960x540">960x540</option>
            <option value="1280x720">1280x720</option>
          </select>
        </div>
      </div>
    </form>

    <div class="list-group stream-list">
      <a href="#" class="list-group-item" ng-repeat="stream in streams"
         ng-click="switchStream(stream)">
        <span class="badge" ng-show="stream.Active">
          <span class="glyphicon glyphicon-film"></span>
        </span>
        {{stream.Name}}
      </a>
    </div>

    <div class="control-buttons">
      <a ng-href="{{watchUrl}}"
         class="btn btn-default" role="button"
         ng-class="{disabled: activeStream() == null}">
        <span class="glyphicon glyphicon-film"></span>
        Watch
      </a>
      <a href="#" class="btn btn-default" role="button"
         ng-class="{disabled: activeStream() == null}"
         ng-click="switchStream(null)">
        <span class="glyphicon glyphicon-remove"></span>
        Stop
      </a>
    </div>

    <div class="modal" id="watchModal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Watch</h4>
          </div>
          <div class="modal-body">
            <p>Copy the following URL into VLC (or another streaming app).</p>
            <p>http://{{settings.ExternalHost}}:{{settings.StreamPort}}/</p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
